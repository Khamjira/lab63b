# การทดลองที่ 5 เรื่อง การเขียนโปรแกรมเชื่อมต่อไวไฟและเว็บเซอร์เวอร์

## วัตถูประสงค์
   1. เพื่อเข้าใจการต่อวงจรโดยใช้ไมโครคอนโทรลเลอร์
   2. ฝึกการเขียนโปรแกรมด้วย platformio
   3. เพื่อให้เข้าใจระบบการทำงานเชื่อมต่อเข้ากับไวไฟ

## อุปกรณ์ที่ใช้
   1. ไมโครคอนโทรลเลอร์
   2. สายUSB
   3. USB2Serial converter

## ศึกษาข้อมูลเบื้องต้น
   * https://www.youtube.com/watch?v=VX-QNQcO-b4
   * https://www.hostinglotus.com/blog/2019/12/16/ip-address-%E0%B8%84%E0%B8%B7%E0%B8%AD%E0%B8%AD%E0%B8%B0%E0%B9%84%E0%B8%A3/

## วิธีทำการทดลอง

   1. เขียนโปรแกรมโดยใช้ตามตัวอย่าง ที่เขียนด้วนภาษา C และ C++
       > ![21](https://user-images.githubusercontent.com/80879116/112279707-cb704080-8cb6-11eb-83e3-b23677d9e354.png)
       > ![22](https://user-images.githubusercontent.com/80879116/112280652-ce1f6580-8cb7-11eb-8e59-2cb467e81454.png)
  
   2. upload program โดยใช้คำสั่ง pio run -t upload
       > ![23](https://user-images.githubusercontent.com/80879116/112281031-33735680-8cb8-11eb-9a37-b19714dd57ba.png)
   
   3.ต่อไมโครคอนโทรลเลอร์เข้ากับ USB2Serial
       > ![24](https://user-images.githubusercontent.com/80879116/112281327-83eab400-8cb8-11eb-8193-559a9f508b6a.png)
       > ![25](https://user-images.githubusercontent.com/80879116/112281705-ef348600-8cb8-11eb-8376-4cefc3429171.png)
   
   4. กดปุ่มศูนย์ หรือ port0 และก็กด RESET
       > ![26](https://user-images.githubusercontent.com/80879116/112282067-53574a00-8cb9-11eb-9072-423477ba6bcc.png)
   
   5. ทำการอัปโหลดโปรแกรม
   6. ดูการทำงาน pio device monitor โดยการเข้าไปดูที่ Web Browser
   7. เพื่อให้ทำงานใหม่ กดปุ่ม RESET
   8. เริ่มการหาไวไฟ เชื่อมต่อไวไฟ ได้ IPAddress
   9. copy IPAddress และใช้ Browser ในการทดสอบ
   10. ทำการรีเซ็ต
   11. แก้โปรแกรม เพื่อให้อักษรใหญ่ขึ้น เปลี่ยนจากคำว่า Hello cnt ใส่ h1 เข้าไป
   12. กดโหมดอัปโหลดใหม่
   13. ใช้คำสั่ง pio device monitor ดูผลลัพธ์
   14. กด RESET
   15. ป้อน html เพิ่มเข้าไป
   16. ทำการอัปโหลดใหม่
   

## บันทึกผลการทดลอง
       > ป้อนชื่อไวไฟและรหัสผ่าน ในส่วนของคำสั่ง SETUP เป็นการเชื่อมต่อกับไวไฟที่ได้ทำการเลือกไว้ ถ้ามีการเชื่อต่อจะแสดงผลว่า Hello cnt เมื่ออัปโหลดโปรแกรม
         ขึ้นไปบนไมโครคอนโทรลเลอร์ จากนั้นทำการต่อไมโครคอนโทรลเลอร์เข้ากับ USB2Serial และกดไปที่รีเซ็ต ตัวไมโครคอนโทรลเลอร์จึงพร้อมที่จะรับโปรแกรมเข้ามา
         ในขณะที่โปรแกรมเตรียมส่งข้อมูลขึ้นมาที่ไมโครคอนโทรลเลอร์ ในการที่จะทดสอบโปรแกรมนี้ต้องใช้ Web Browser เข้ามาเกี่ยวข้อง ไฟฟระพิบเมื่อมีการส่งสัญญาณ
         เข้าไปที่ไมโครคอนโทรลเลอร์
         
         
         
 ## อภิปรายผลการทดลอง
       > ทุกครั้งเมื่อมีการแก้คำสั่งในโปรแกรมจะต้องทำการอัปโหลดโปรแกรมใหม่
 
 ## คำถามหลังการทดลอง
    1. IPAddress คืออะไร
       > IP Address ( internet Protocal Address ) คือ หมายเลขประจำเครื่องคอมพิวเตอร์แต่ละเครื่องในระบบเครือข่ายที่ใช้โปรโตคอลแบบ TCP/IP
        สามารถบอกได้ว่าเครื่องคอมพิวเตอร์ตั้งอยู่ที่ไหน ซึ่งสามารถระบุได้ผ่าน ip address และแน่นอนแต่ละ ip จะไม่ซ้ำกัน
